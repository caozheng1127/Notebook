### 测试方面

#### 需要注意的部分

1. 报文的字段是否为必填，字段名是否正确，字段内容是否正确
2. 系统间通信的时候，发送报文和返回报文的字段不能有遗漏
3. 业务处理逻辑处理
4. 清算日期的上送问题：因为第一时间无法获得清算日期，所以将清算日期改成O域，这样调接口时不上送清算日期，之后通过清算日期更新接口更新清算日期，这样即使更新失败，也能通过清算日期为空，快速定位到问题，否则无法知道当前清算日期是否正确。



### 分配的任务

- 编写模块分析文档
- 绘制余额查询流程图
- 编写二三类预开户，开户确认，余额查询接口文档
- 编写Jmeter测试案例
- 编写SASS系统-无卡联机+银行仿真度挡板
- 大连农商行-TSM新机构入网 进行联机测试（云闪付发卡前置系统）
- Jmeter性能测试shell编写
- 大连农商行前置单元测试
- 编写sass前置-绵阳银行二三类银行账户管理前置系统接口文档
- 绘制绵阳银行二三类账号申卡流程图
- 大连农商行Jmeter回归测试
- 大连农商行AM卡生命周期入网测试
- 大连农商行AM卡生命周期压力测试
- 大连农商行二三类银行账户管理前置系统入网测试
- 制作格式转换小工具（jar包的方式使用）
- 对接口文档进行批注
- 绵阳商行代码构建
- 编写绵阳商行代码

### 小技巧（系统模块设计）

- 参数缓存/刷新（cache）模块：用来缓存数据库中的参数信息（静态参数缓存），可以直接放到全局Map中，不用再去数据库中取（缓存初始化，缓存读取，缓存刷新）
- A-B表+历史表模块：第一天插A表，第二天插B表，交替执行，第二天将数据存入历史表并清除A表数据，第三天同上操作B表，方便查询信息，不用去历史表中查询，提高查询效率（使用了定时器quartz）
- 数据库日志记录模块：为了提高应用整体性能，采用异步记录数据库日志的方法，将待记录日志信息先放到内存队列中，再零存整取批量插入到数据库中，提高效率。
- 加密机服务访问模块：涉及到密码等机密信息的时候需要
- 存储转发：对于一部操作，为了保证操作的可完成性，需要定时监控异步操作是否完成，对于没有及时完成的任务，需要再次发起操作。对于超时未完成的任务，需要一定的隔离机制
- 异常处理模块:运行时异常，业务自定义异常，通信异常，数据库异常
- 数据库连接池：hikariCP，快速，简单，可靠的轻量级连接池

### 技术选型

- 负载均衡硬件部分F5，软件部分haproxy、Nginx。
- magpie底层封装了netty，注册中心为zk。

### 代码重构

* 对两个逻辑相同但实现不同的函数进行整合，整合成一个服务
* 将冗余的代码进行整合，整合成一个服务
* 将经常变动的地方提取出来，整合成一系列服务，或者整合成工厂方法模式（请求报文组包），或者将贫血模型转换成充血模型

### 小技巧

* 使用live templates生成注释模板，提高注释效率
* 灵活使用TODO（自定义TODO）
* 灵活使用GIT、CVS
* 自己开发轮子，打成jar包使用
* 对异常情况的处理（正常，失败，超时）
* 灵活运用反向交易
* Thread Local的使用
* 贫血模型和充血模型

<div align="center"> <img src="../pics//java路线图.jpg"/> </div><br>